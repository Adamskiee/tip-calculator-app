(()=>{var l=document.getElementById("bill"),n=document.getElementById("people-num"),m=document.getElementById("tips"),s=document.getElementById("custom"),v=document.getElementById("tip-amount"),E=document.getElementById("total"),a=document.getElementById("reset-btn"),i=document.getElementById("people-num-error-msg"),o="",L=t=>{u(),s.value&&(s.value=""),t.classList.add("active-tip"),c()},u=()=>{m.querySelectorAll(".tip").forEach(t=>{t.classList.remove("active-tip")})},I=t=>{try{let e=t.target.closest(".tip");if(!e)return;let r=e.dataset.percent;if(o===r||(o=r,o==="custom"))return;L(e)}catch(e){console.log("Error clicking tips: "+e)}},c=()=>{let t=Number(l.value),e=Number(n.value)>0?Number(n.value):1,r=o==="custom"?Number(s.value)||0:Number(o),d=t/e,p=d*(r/100),g=d+p;v.textContent=p.toFixed(2),E.textContent=g.toFixed(2),a.disabled=!1},y=()=>{a.disabled=!0,l.value="",n.value="",s.value="",E.textContent="0.00",v.textContent="0.00",b(n,i),o==="custom"?s.value="":u()},N=t=>{Number(t.target.value)<=0&&t.target.value!==""?B(n,i):b(n,i)},B=(t,e)=>{t.classList.add("input-error"),e.classList.remove("hidden")},b=(t,e)=>{t.classList.remove("input-error"),e.classList.add("hidden")};s.addEventListener("input",c);l.addEventListener("input",c);n.addEventListener("input",c);n.addEventListener("input",N);m.addEventListener("click",I);a.addEventListener("click",y);s.addEventListener("input",u);})();
